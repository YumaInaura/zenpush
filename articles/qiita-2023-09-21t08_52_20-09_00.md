---
title: "AWS Terraform â€“ Lambda ã¨ SNS ã®é€£æºã§ ãƒˆãƒªã‚¬ãƒ¼ãŒã§ããªã„ "
emoji: "ğŸ–¥"
type: "tech"
topics: ["aws", "terraform"]
published: true
published_at: 2023-10-07 14:08
---

# å…¬å¼

https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lambda_permission

# å•é¡Œ

Terraformã§Lambdaã¨SNSã‚’é€£æºã•ã›ãŸ

SNSã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã«ã¯LambdaãŒç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ã®ã«ã€
é€†ã«Lambdaã®ãƒˆãƒªã‚¬ãƒ¼ã®ç”»é¢ã«SNSãŒç¾ã‚Œãªã„


# è§£æ±º

aws_sns_topic_subscription ã« Lambda ã® ARN ã‚’è¨­å®šã™ã‚‹ã ã‘ã§ã¯ãªã
SNS ã« Lambda ã®å®Ÿè¡Œãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã 

```tf
resource "aws_sns_topic" "example" {
  name = "example"
}

resource "aws_sns_topic_subscription" "example" {
  topic_arn = aws_sns_topic.example.arn
  protocol  = "lambda"
  endpoint  = aws_lambda_function.example.arn
}


resource "aws_lambda_permission" "with_sns" {
  statement_id  = "AllowExecutionFromSNS"
  action        = "lambda:InvokeFunction"
  function_name = aws_lambda_function.example.function_name
  principal     = "sns.amazonaws.com"
  source_arn    = aws_sns_topic.example.arn
}

```


# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ


# Twitter

https://twitter.com/YumaInaura


# å…¬é–‹æ—¥æ™‚

2023-09-21
